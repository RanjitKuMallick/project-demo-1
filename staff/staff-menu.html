<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menu - BitCrave</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Roboto&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #fdf8f4;
    }
    h1, h2, h5 {
      font-family: 'Playfair Display', serif;
    }
    .navbar {
      background: linear-gradient(to right, #b46d39, #c19a6b);
    }
    .navbar .nav-link {
      color: #fff !important;
    }
    .navbar .nav-link:hover {
      color: #000 !important;
    }
    .menu-category {
      margin-top: 3rem;
    }
    .menu-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
      transition: transform 0.3s;
      overflow: hidden;
    }
    .menu-card:hover {
      transform: translateY(-5px);
    }
    .menu-img {
      height: 180px;
      object-fit: cover;
      width: 100%;
    }
    .price {
      color: #b46d39;
      font-weight: bold;
      font-size: 1.1rem;
    }
    footer {
      background: linear-gradient(to right, #b46d39, #c19a6b);
      color: white;
    }
    .dark-mode {
      background-color: #121212 !important;
      color: #f0f0f0 !important;
    }
    .dark-mode .menu-card {
      background-color: #1e1e1e;
    }
    .dark-mode .navbar,
    .dark-mode footer {
      background: #1c1c1c !important;
    }
    .whatsapp-float, .feedback-float, #darkModeToggle {
      position: fixed;
      right: 20px;
      z-index: 999;
      width: 50px;
      height: 50px;
      font-size: 1.3rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .whatsapp-float { bottom: 20px; background-color: #25d366; color: #fff; }
    .feedback-float { bottom: 85px; background-color: #dc3545; color: #fff; }
    #darkModeToggle { bottom: 150px; background: #333; color: #fff; border: none; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top shadow">
    <div class="container">
      <a class="navbar-brand" href="index.html">üçΩÔ∏è BitCrave</a>
      <button class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link active" href="#">Menu</a></li>
          <li class="nav-item"><a class="nav-link" href="reservations.html">Reservations</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Menu Content -->
  <section class="container mt-5 pt-4">
    <h2 class="text-center mt-4">Our Signature Menu</h2>

    <div class="menu-category">
      <h4 class="text-primary">Starters</h4>
      <div class="row g-4" id="starterItems"></div>
    </div>

    <div class="menu-category">
      <h4 class="text-primary">Main Course</h4>
      <div class="row g-4" id="mainItems"></div>
    </div>

    <div class="menu-category">
      <h4 class="text-primary">Desserts</h4>
      <div class="row g-4" id="dessertItems"></div>
    </div>

    <div class="text-center mt-5">
      <button class="btn btn-success px-4" onclick="saveOrder()">Save Order</button>
      <div id="orderMsg" class="alert alert-info mt-3 d-none">Order added to your booking.</div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-white text-center py-4 mt-5">
    <div>¬© 2025 BitCrave Restaurant | All Rights Reserved</div>
  </footer>

  <!-- Floating Buttons -->
  <a href="https://wa.me/919999999999" class="whatsapp-float" target="_blank" title="Chat on WhatsApp">üí¨</a>
  <a href="feedback.html" class="feedback-float" title="Give Feedback">üìù</a>
  <button class="btn" id="darkModeToggle">üåô</button>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const sections = {
      "Starter": document.getElementById("starterItems"),
      "Main Course": document.getElementById("mainItems"),
      "Dessert": document.getElementById("dessertItems"),
    };

    const items = JSON.parse(localStorage.getItem("bitcrave-menu")) || [];

    const selectedItems = [];

    items.forEach(item => {
      const card = document.createElement("div");
      card.className = "col-md-4";
      card.innerHTML = `
        <div class="menu-card">
          <img src="${item.image || 'https://via.placeholder.com/400x200'}" class="menu-img" alt="${item.name}">
          <div class="p-3">
            <h5>${item.name}</h5>
            <p class="mb-1 text-muted">${item.description || item.category}</p>
            <div class="d-flex justify-content-between align-items-center">
              <span class="price">‚Çπ${item.price}</span>
              <button class="btn btn-sm btn-outline-primary" onclick="addToOrder('${item.name}')">Add</button>
            </div>
          </div>
        </div>
      `;
      if (sections[item.category]) {
        sections[item.category].appendChild(card);
      }
    });

    function addToOrder(itemName) {
      selectedItems.push(itemName);
      alert(`${itemName} added to your order.`);
    }

    function saveOrder() {
      const reservations = JSON.parse(localStorage.getItem("bitcrave-reservations")) || [];
      if (!reservations.length) {
        alert("No booking found. Please make a reservation first.");
        return;
      }
      const last = reservations.length - 1;
      reservations[last].order = selectedItems;
      localStorage.setItem("bitcrave-reservations", JSON.stringify(reservations));
      document.getElementById("orderMsg").classList.remove("d-none");
    }

    // Dark mode toggle
    const darkToggle = document.getElementById("darkModeToggle");
    const darkItems = ['body', '.navbar', '.menu-card', 'footer'];

    if (localStorage.getItem("bitcrave-theme") === "dark") {
      darkItems.forEach(sel => document.querySelectorAll(sel).forEach(el => el.classList.add("dark-mode")));
    }

    darkToggle.addEventListener("click", () => {
      darkItems.forEach(sel => document.querySelectorAll(sel).forEach(el => el.classList.toggle("dark-mode")));
      const mode = document.body.classList.contains("dark-mode") ? "dark" : "light";
      localStorage.setItem("bitcrave-theme", mode);
    });
  </script>
</body>
</html>
